<<<<<<< HEAD
# GTKWaveã§VGAä¿¡å·ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•

## ğŸ“Œ æ¦‚è¦
VGAã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æ³¢å½¢ã‚’GTKWaveã§æ­£ã—ãè¡¨ç¤ºãƒ»ç¢ºèªã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

---

## ğŸ”§ æº–å‚™

### 1. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ

```powershell
# Icarus Verilogã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
cd c:\Users\asami\Documents\verilog
iverilog -o vga_sim.vvp VGA_testbench.v VGA_BW_simple.v
vvp vga_sim.vvp
```

å®Ÿè¡Œå¾Œã€`vga_test.vcd` ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### 2. GTKWaveã®èµ·å‹•

```powershell
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ä¸€ç·’ã«èµ·å‹•ï¼ˆæ¨å¥¨ï¼‰
gtkwave vga_test.vcd vga_test.gtkw

# ã¾ãŸã¯ã€VCDãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ã§èµ·å‹•
gtkwave vga_test.vcd
```

---

## ğŸ“Š GTKWaveã§ã®æ­£ã—ã„è¡¨ç¤ºæ–¹æ³•

### **é‡è¦ãªä¿¡å·ã¨è¡¨ç¤ºå½¢å¼**

| ä¿¡å·å | ç¨®é¡ | è¡¨ç¤ºå½¢å¼ | èª¬æ˜ |
|--------|------|----------|------|
| `clk` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | 25MHzã‚¯ãƒ­ãƒƒã‚¯ |
| `reset` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | ãƒªã‚»ãƒƒãƒˆä¿¡å· |
| `hsync` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | æ°´å¹³åŒæœŸï¼ˆãƒ‘ãƒ«ã‚¹ç¢ºèªï¼‰ |
| `vsync` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | å‚ç›´åŒæœŸï¼ˆãƒ‘ãƒ«ã‚¹ç¢ºèªï¼‰ |
| `h_count` | ã‚«ã‚¦ãƒ³ã‚¿ | **Decimal** | æ°´å¹³ã‚«ã‚¦ãƒ³ã‚¿ï¼ˆ0-799ï¼‰|
| `v_count` | ã‚«ã‚¦ãƒ³ã‚¿ | **Decimal** | å‚ç›´ã‚«ã‚¦ãƒ³ã‚¿ï¼ˆ0-524ï¼‰|
| `display_on` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | è¡¨ç¤ºé ˜åŸŸãƒ•ãƒ©ã‚° |
| `video` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | æ˜ åƒä¿¡å· |

---

## âš™ï¸ æ‰‹å‹•ã§è¨­å®šã™ã‚‹å ´åˆã®æ‰‹é †

### 1. ä¿¡å·ã®è¿½åŠ 

å·¦å´ã®ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ä»¥ä¸‹ã®é †åºã§ä¿¡å·ã‚’è¿½åŠ ï¼š

1. **ã‚¯ãƒ­ãƒƒã‚¯ã¨ãƒªã‚»ãƒƒãƒˆ**
   - `VGA_testbench.clk`
   - `VGA_testbench.reset`

2. **åŒæœŸä¿¡å·**
   - `VGA_testbench.hsync`
   - `VGA_testbench.vsync`

3. **ã‚«ã‚¦ãƒ³ã‚¿**
   - `VGA_testbench.uut.h_count[9:0]`
   - `VGA_testbench.uut.v_count[9:0]`

4. **æ˜ åƒä¿¡å·**
   - `VGA_testbench.uut.display_on`
   - `VGA_testbench.video`

### 2. è¡¨ç¤ºå½¢å¼ã®å¤‰æ›´

**ã‚«ã‚¦ãƒ³ã‚¿ã‚’10é€²æ•°ã§è¡¨ç¤º**ï¼ˆé‡è¦ï¼ï¼‰ï¼š

1. ä¿¡å·ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Data Format` â†’ `Decimal`
2. ã¾ãŸã¯ã€ä¿¡å·ã‚’é¸æŠã—ã¦ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã® `Edit` â†’ `Data Format` â†’ `Decimal`

**16é€²æ•°ã§è¡¨ç¤ºã—ãŸã„å ´åˆ**ï¼š
- `Data Format` â†’ `Hexadecimal`

### 3. åŒºåˆ‡ã‚Šç·šã®è¿½åŠ 

è¦‹ã‚„ã™ãã™ã‚‹ãŸã‚ã«åŒºåˆ‡ã‚Šç·šã‚’è¿½åŠ ï¼š

1. ä¿¡å·ãƒªã‚¹ãƒˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Insert Comment`
2. ã‚³ãƒ¡ãƒ³ãƒˆã« `-åŒæœŸä¿¡å·` ãªã©ã¨å…¥åŠ›

---

## ğŸ” ç¢ºèªã™ã¹ããƒã‚¤ãƒ³ãƒˆ

### **1. HSYNCã‚¿ã‚¤ãƒŸãƒ³ã‚°**

```
h_count ã®å‹•ã:
0 â†’ 639 (è¡¨ç¤ºæœŸé–“)
640 â†’ 655 (ãƒ•ãƒ­ãƒ³ãƒˆãƒãƒ¼ãƒ)
656 â†’ 751 (HSYNC = 1)  â† ã“ã“ã‚’ç¢ºèªï¼
752 â†’ 799 (ãƒãƒƒã‚¯ãƒãƒ¼ãƒ)
â†’ 0 ã«æˆ»ã‚‹
```

**ç¢ºèªæ–¹æ³•**ï¼š
- `h_count` ãŒ 656 ï½ 751 ã®é–“ã§ `hsync` ãŒ 1 ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
- GTKWaveã§ã‚«ãƒ¼ã‚½ãƒ«ï¼ˆç¸¦ç·šï¼‰ã‚’ç§»å‹•ã—ã¦æ•°å€¤ã‚’ç¢ºèª

### **2. VSYNCã‚¿ã‚¤ãƒŸãƒ³ã‚°**

```
v_count ã®å‹•ã:
0 â†’ 479 (è¡¨ç¤ºæœŸé–“)
480 â†’ 489 (ãƒ•ãƒ­ãƒ³ãƒˆãƒãƒ¼ãƒ)
490 â†’ 491 (VSYNC = 1)  â† ã“ã“ã‚’ç¢ºèªï¼
492 â†’ 524 (ãƒãƒƒã‚¯ãƒãƒ¼ãƒ)
â†’ 0 ã«æˆ»ã‚‹
```

**ç¢ºèªæ–¹æ³•**ï¼š
- `v_count` ãŒ 490 ï½ 491 ã®é–“ã§ `vsync` ãŒ 1 ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª

### **3. è¡¨ç¤ºæœŸé–“**

```
display_on ãŒ 1 ã«ãªã‚‹æ¡ä»¶:
- h_count < 640 ã‹ã¤
- v_count < 480
```

**ç¢ºèªæ–¹æ³•**ï¼š
- `display_on` ãŒ 1 ã®æ™‚ã« `video` ä¿¡å·ãŒå¤‰åŒ–ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- `display_on` ãŒ 0 ã®æ™‚ã« `video` ãŒ 0 ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

### **4. æ˜ åƒãƒ‘ã‚¿ãƒ¼ãƒ³**

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯å¸‚æ¾æ¨¡æ§˜ï¼š
```verilog
video <= h_count[5] ^ v_count[5];
```

- `h_count[5]` ã¯ 32ãƒ”ã‚¯ã‚»ãƒ«ã”ã¨ã«åè»¢
- `v_count[5]` ã¯ 32ãƒ©ã‚¤ãƒ³ã”ã¨ã«åè»¢
- XORæ¼”ç®—ã§å¸‚æ¾æ¨¡æ§˜

---

## ğŸ¯ æ¨å¥¨è¡¨ç¤ºè¨­å®š

### **ã‚¿ã‚¤ãƒ ã‚¹ã‚±ãƒ¼ãƒ«ã®èª¿æ•´**

VGAä¿¡å·ã¯å‘¨æœŸãŒé•·ã„ã®ã§ã€é©åˆ‡ãªã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ãŒé‡è¦ã§ã™ï¼š

| ç¢ºèªå†…å®¹ | æ¨å¥¨ã‚¿ã‚¤ãƒ ã‚¹ã‚±ãƒ¼ãƒ« | æ“ä½œ |
|---------|------------------|------|
| ã‚¯ãƒ­ãƒƒã‚¯ãƒ‘ãƒ«ã‚¹ | 100nsï½1Î¼s | ã‚ºãƒ¼ãƒ ã‚¤ãƒ³ |
| 1æ°´å¹³ãƒ©ã‚¤ãƒ³ | 30Î¼sï½50Î¼s | ä¸­ç¨‹åº¦ |
| 1ãƒ•ãƒ¬ãƒ¼ãƒ å…¨ä½“ | 10msï½20ms | ã‚ºãƒ¼ãƒ ã‚¢ã‚¦ãƒˆ |

**ã‚ºãƒ¼ãƒ æ“ä½œ**ï¼š
- ã‚ºãƒ¼ãƒ ã‚¤ãƒ³: `Ctrl` + `+` ã¾ãŸã¯ ãƒã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«ä¸Š
- ã‚ºãƒ¼ãƒ ã‚¢ã‚¦ãƒˆ: `Ctrl` + `-` ã¾ãŸã¯ ãƒã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«ä¸‹
- ãƒ•ã‚£ãƒƒãƒˆ: `Ctrl` + `F`

### **ãƒãƒ¼ã‚«ãƒ¼ã®ä½¿ç”¨**

é‡è¦ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ãƒãƒ¼ã‚«ãƒ¼ã‚’è¨­ç½®ï¼š

1. **HSYNCé–‹å§‹ä½ç½®**ï¼ˆh_count = 656ï¼‰
2. **VSYNCé–‹å§‹ä½ç½®**ï¼ˆv_count = 490ï¼‰
3. **ãƒ•ãƒ¬ãƒ¼ãƒ å¢ƒç•Œ**ï¼ˆh_count = 0, v_count = 0ï¼‰

**æ“ä½œæ–¹æ³•**ï¼š
- ãƒãƒ¼ã‚«ãƒ¼è¿½åŠ : æ³¢å½¢ä¸Šã§å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Set Marker`
- ã¾ãŸã¯ã€`Alt` + å·¦ã‚¯ãƒªãƒƒã‚¯

---

## ğŸ“ˆ å…¸å‹çš„ãªæ³¢å½¢ãƒ‘ã‚¿ãƒ¼ãƒ³

### **æ°´å¹³åŒæœŸï¼ˆ1ãƒ©ã‚¤ãƒ³åˆ†ï¼‰**

```
æ™‚é–“è»¸: ç´„31.77Î¼sï¼ˆ800ãƒ”ã‚¯ã‚»ãƒ« @ 25MHzï¼‰

clk      : ||||||||||||||||||||||||||||||||||||
h_count  : 0---639|640-655|656----751|752--799|0--
display  : â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ
hsync    : â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
video    : â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ
           â†‘è¡¨ç¤ºæœŸé–“ â†‘FP  â†‘åŒæœŸ    â†‘BP
```

### **å‚ç›´åŒæœŸï¼ˆæ•°ãƒ©ã‚¤ãƒ³åˆ†ï¼‰**

```
ãƒ•ãƒ¬ãƒ¼ãƒ å‘¨æœŸ: ç´„16.68msï¼ˆ525ãƒ©ã‚¤ãƒ³ï¼‰

v_count  : 479|480-489|490-491|492-524|0
vsync    : â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
```

---

## ğŸ› ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

### **å•é¡Œ1: ã‚«ã‚¦ãƒ³ã‚¿ãŒ2é€²æ•°ã§èª­ã¿ã«ãã„**

**ç—‡çŠ¶**ï¼š
```
h_count: 0000000000
h_count: 0000000001
h_count: 0000000010  â† èª­ã¿ã«ãã„ï¼
```

**è§£æ±ºæ–¹æ³•**ï¼š
ä¿¡å·ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Data Format` â†’ `Decimal` ã«å¤‰æ›´

```
h_count: 0
h_count: 1
h_count: 2  â† ã‚ã‹ã‚Šã‚„ã™ã„ï¼
```

### **å•é¡Œ2: ä¿¡å·ãŒè¦‹ã¤ã‹ã‚‰ãªã„**

**ç—‡çŠ¶**ï¼š
`uut.h_count` ãŒè¦‹ã¤ã‹ã‚‰ãªã„

**è§£æ±ºæ–¹æ³•**ï¼š
1. å·¦å´ã®ãƒ„ãƒªãƒ¼ã‚’å±•é–‹: `VGA_testbench` â†’ `uut`
2. ãƒ†ã‚¹ãƒˆãƒ™ãƒ³ãƒã§ `$dumpvars(0, VGA_testbench);` ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### **å•é¡Œ3: æ³¢å½¢ãŒè¡¨ç¤ºã•ã‚Œãªã„**

**ç—‡çŠ¶**ï¼š
GTKWaveã¯èµ·å‹•ã™ã‚‹ãŒã€ä¿¡å·ãŒå¹³å¦

**è§£æ±ºæ–¹æ³•**ï¼š
1. VCDãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
2. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæœ€å¾Œã¾ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆ`$finish` ã¾ã§ï¼‰
3. `$dumpfile()` ã¨ `$dumpvars()` ãŒãƒ†ã‚¹ãƒˆãƒ™ãƒ³ãƒã«è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### **å•é¡Œ4: è¡¨ç¤ºãŒé…ã„ãƒ»é‡ã„**

**ç—‡çŠ¶**ï¼š
GTKWaveã®å‹•ä½œãŒé…ã„

**è§£æ±ºæ–¹æ³•**ï¼š
ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’çŸ­ç¸®ï¼š

```verilog
// ãƒ†ã‚¹ãƒˆãƒ™ãƒ³ãƒã®å®Ÿè¡Œæ™‚é–“ã‚’çŸ­ç¸®
// 3ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ100msï¼‰â†’ 1ãƒ©ã‚¤ãƒ³åˆ†ï¼ˆ32Î¼sï¼‰
#1000;  // 1Î¼s ã®ã¿å®Ÿè¡Œ
```

---

## ğŸ’¡ é«˜åº¦ãªä½¿ã„æ–¹

### **1. ç‰¹å®šã®ç¯„å›²ã‚’ã‚ºãƒ¼ãƒ **

1. é–‹å§‹ä½ç½®ã§ãƒã‚¦ã‚¹å·¦ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™
2. ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦çµ‚äº†ä½ç½®ã¾ã§ç§»å‹•
3. ãƒ¡ãƒ‹ãƒ¥ãƒ¼ `Time` â†’ `Zoom to Range`

### **2. ä¿¡å·ã®è‰²å¤‰æ›´**

ä¿¡å·ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Highlight` â†’ è‰²ã‚’é¸æŠ

### **3. æ³¢å½¢ã®æ¯”è¼ƒ**

è¤‡æ•°ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœã‚’æ¯”è¼ƒï¼š
1. `File` â†’ `Reload Waveform`
2. ç•°ãªã‚‹VCDãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€

### **4. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¿å­˜**

`File` â†’ `Print to File` â†’ PNG/PDF ã‚’é¸æŠ

---

## ğŸ“– å‚è€ƒã‚³ãƒãƒ³ãƒ‰

### **ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼ˆWindows PowerShellï¼‰**

```powershell
# ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼†å®Ÿè¡Œ
iverilog -o vga_sim.vvp VGA_testbench.v VGA_BW_simple.v
vvp vga_sim.vvp

# GTKWaveèµ·å‹•ï¼ˆè¨­å®šä»˜ãï¼‰
gtkwave vga_test.vcd vga_test.gtkw
```

### **ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼ˆLinux/Macï¼‰**

```bash
# ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼†å®Ÿè¡Œ
iverilog -o vga_sim.vvp VGA_testbench.v VGA_BW_simple.v
vvp vga_sim.vvp

# GTKWaveèµ·å‹•
gtkwave vga_test.vcd vga_test.gtkw &
```

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

VGAä¿¡å·ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼š

- [ ] HSYNCå‘¨æœŸãŒç´„31.77Î¼sï¼ˆ800ãƒ”ã‚¯ã‚»ãƒ«åˆ†ï¼‰
- [ ] HSYNCãƒ‘ãƒ«ã‚¹å¹…ãŒç´„3.84Î¼sï¼ˆ96ãƒ”ã‚¯ã‚»ãƒ«åˆ†ï¼‰
- [ ] VSYNCå‘¨æœŸãŒç´„16.68msï¼ˆ525ãƒ©ã‚¤ãƒ³åˆ†ï¼‰
- [ ] VSYNCãƒ‘ãƒ«ã‚¹å¹…ãŒç´„63Î¼sï¼ˆ2ãƒ©ã‚¤ãƒ³åˆ†ï¼‰
- [ ] display_onãŒ h_count<640 ã‹ã¤ v_count<480 ã§1
- [ ] display_on=0ã®æ™‚ã€videoãŒ0
- [ ] display_on=1ã®æ™‚ã€videoãŒãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã£ã¦ã„ã‚‹

---

**ä½œæˆæ—¥**: 2026-01-15  
**å¯¾è±¡**: Icarus Verilog + GTKWave ã§ã®VGAä¿¡å·ç¢ºèª
=======
# GTKWaveã§VGAä¿¡å·ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•

## ğŸ“Œ æ¦‚è¦
VGAã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æ³¢å½¢ã‚’GTKWaveã§æ­£ã—ãè¡¨ç¤ºãƒ»ç¢ºèªã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

---

## ğŸ”§ æº–å‚™

### 1. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ

```powershell
# Icarus Verilogã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
cd c:\Users\asami\Documents\verilog
iverilog -o vga_sim.vvp VGA_testbench.v VGA_BW_simple.v
vvp vga_sim.vvp
```

å®Ÿè¡Œå¾Œã€`vga_test.vcd` ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### 2. GTKWaveã®èµ·å‹•

```powershell
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ä¸€ç·’ã«èµ·å‹•ï¼ˆæ¨å¥¨ï¼‰
gtkwave vga_test.vcd vga_test.gtkw

# ã¾ãŸã¯ã€VCDãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ã§èµ·å‹•
gtkwave vga_test.vcd
```

---

## ğŸ“Š GTKWaveã§ã®æ­£ã—ã„è¡¨ç¤ºæ–¹æ³•

### **é‡è¦ãªä¿¡å·ã¨è¡¨ç¤ºå½¢å¼**

| ä¿¡å·å | ç¨®é¡ | è¡¨ç¤ºå½¢å¼ | èª¬æ˜ |
|--------|------|----------|------|
| `clk` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | 25MHzã‚¯ãƒ­ãƒƒã‚¯ |
| `reset` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | ãƒªã‚»ãƒƒãƒˆä¿¡å· |
| `hsync` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | æ°´å¹³åŒæœŸï¼ˆãƒ‘ãƒ«ã‚¹ç¢ºèªï¼‰ |
| `vsync` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | å‚ç›´åŒæœŸï¼ˆãƒ‘ãƒ«ã‚¹ç¢ºèªï¼‰ |
| `h_count` | ã‚«ã‚¦ãƒ³ã‚¿ | **Decimal** | æ°´å¹³ã‚«ã‚¦ãƒ³ã‚¿ï¼ˆ0-799ï¼‰|
| `v_count` | ã‚«ã‚¦ãƒ³ã‚¿ | **Decimal** | å‚ç›´ã‚«ã‚¦ãƒ³ã‚¿ï¼ˆ0-524ï¼‰|
| `display_on` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | è¡¨ç¤ºé ˜åŸŸãƒ•ãƒ©ã‚° |
| `video` | ãƒ‡ã‚¸ã‚¿ãƒ« | Binary | æ˜ åƒä¿¡å· |

---

## âš™ï¸ æ‰‹å‹•ã§è¨­å®šã™ã‚‹å ´åˆã®æ‰‹é †

### 1. ä¿¡å·ã®è¿½åŠ 

å·¦å´ã®ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ä»¥ä¸‹ã®é †åºã§ä¿¡å·ã‚’è¿½åŠ ï¼š

1. **ã‚¯ãƒ­ãƒƒã‚¯ã¨ãƒªã‚»ãƒƒãƒˆ**
   - `VGA_testbench.clk`
   - `VGA_testbench.reset`

2. **åŒæœŸä¿¡å·**
   - `VGA_testbench.hsync`
   - `VGA_testbench.vsync`

3. **ã‚«ã‚¦ãƒ³ã‚¿**
   - `VGA_testbench.uut.h_count[9:0]`
   - `VGA_testbench.uut.v_count[9:0]`

4. **æ˜ åƒä¿¡å·**
   - `VGA_testbench.uut.display_on`
   - `VGA_testbench.video`

### 2. è¡¨ç¤ºå½¢å¼ã®å¤‰æ›´

**ã‚«ã‚¦ãƒ³ã‚¿ã‚’10é€²æ•°ã§è¡¨ç¤º**ï¼ˆé‡è¦ï¼ï¼‰ï¼š

1. ä¿¡å·ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Data Format` â†’ `Decimal`
2. ã¾ãŸã¯ã€ä¿¡å·ã‚’é¸æŠã—ã¦ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã® `Edit` â†’ `Data Format` â†’ `Decimal`

**16é€²æ•°ã§è¡¨ç¤ºã—ãŸã„å ´åˆ**ï¼š
- `Data Format` â†’ `Hexadecimal`

### 3. åŒºåˆ‡ã‚Šç·šã®è¿½åŠ 

è¦‹ã‚„ã™ãã™ã‚‹ãŸã‚ã«åŒºåˆ‡ã‚Šç·šã‚’è¿½åŠ ï¼š

1. ä¿¡å·ãƒªã‚¹ãƒˆã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Insert Comment`
2. ã‚³ãƒ¡ãƒ³ãƒˆã« `-åŒæœŸä¿¡å·` ãªã©ã¨å…¥åŠ›

---

## ğŸ” ç¢ºèªã™ã¹ããƒã‚¤ãƒ³ãƒˆ

### **1. HSYNCã‚¿ã‚¤ãƒŸãƒ³ã‚°**

```
h_count ã®å‹•ã:
0 â†’ 639 (è¡¨ç¤ºæœŸé–“)
640 â†’ 655 (ãƒ•ãƒ­ãƒ³ãƒˆãƒãƒ¼ãƒ)
656 â†’ 751 (HSYNC = 1)  â† ã“ã“ã‚’ç¢ºèªï¼
752 â†’ 799 (ãƒãƒƒã‚¯ãƒãƒ¼ãƒ)
â†’ 0 ã«æˆ»ã‚‹
```

**ç¢ºèªæ–¹æ³•**ï¼š
- `h_count` ãŒ 656 ï½ 751 ã®é–“ã§ `hsync` ãŒ 1 ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
- GTKWaveã§ã‚«ãƒ¼ã‚½ãƒ«ï¼ˆç¸¦ç·šï¼‰ã‚’ç§»å‹•ã—ã¦æ•°å€¤ã‚’ç¢ºèª

### **2. VSYNCã‚¿ã‚¤ãƒŸãƒ³ã‚°**

```
v_count ã®å‹•ã:
0 â†’ 479 (è¡¨ç¤ºæœŸé–“)
480 â†’ 489 (ãƒ•ãƒ­ãƒ³ãƒˆãƒãƒ¼ãƒ)
490 â†’ 491 (VSYNC = 1)  â† ã“ã“ã‚’ç¢ºèªï¼
492 â†’ 524 (ãƒãƒƒã‚¯ãƒãƒ¼ãƒ)
â†’ 0 ã«æˆ»ã‚‹
```

**ç¢ºèªæ–¹æ³•**ï¼š
- `v_count` ãŒ 490 ï½ 491 ã®é–“ã§ `vsync` ãŒ 1 ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª

### **3. è¡¨ç¤ºæœŸé–“**

```
display_on ãŒ 1 ã«ãªã‚‹æ¡ä»¶:
- h_count < 640 ã‹ã¤
- v_count < 480
```

**ç¢ºèªæ–¹æ³•**ï¼š
- `display_on` ãŒ 1 ã®æ™‚ã« `video` ä¿¡å·ãŒå¤‰åŒ–ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- `display_on` ãŒ 0 ã®æ™‚ã« `video` ãŒ 0 ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

### **4. æ˜ åƒãƒ‘ã‚¿ãƒ¼ãƒ³**

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯å¸‚æ¾æ¨¡æ§˜ï¼š
```verilog
video <= h_count[5] ^ v_count[5];
```

- `h_count[5]` ã¯ 32ãƒ”ã‚¯ã‚»ãƒ«ã”ã¨ã«åè»¢
- `v_count[5]` ã¯ 32ãƒ©ã‚¤ãƒ³ã”ã¨ã«åè»¢
- XORæ¼”ç®—ã§å¸‚æ¾æ¨¡æ§˜

---

## ğŸ¯ æ¨å¥¨è¡¨ç¤ºè¨­å®š

### **ã‚¿ã‚¤ãƒ ã‚¹ã‚±ãƒ¼ãƒ«ã®èª¿æ•´**

VGAä¿¡å·ã¯å‘¨æœŸãŒé•·ã„ã®ã§ã€é©åˆ‡ãªã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ãŒé‡è¦ã§ã™ï¼š

| ç¢ºèªå†…å®¹ | æ¨å¥¨ã‚¿ã‚¤ãƒ ã‚¹ã‚±ãƒ¼ãƒ« | æ“ä½œ |
|---------|------------------|------|
| ã‚¯ãƒ­ãƒƒã‚¯ãƒ‘ãƒ«ã‚¹ | 100nsï½1Î¼s | ã‚ºãƒ¼ãƒ ã‚¤ãƒ³ |
| 1æ°´å¹³ãƒ©ã‚¤ãƒ³ | 30Î¼sï½50Î¼s | ä¸­ç¨‹åº¦ |
| 1ãƒ•ãƒ¬ãƒ¼ãƒ å…¨ä½“ | 10msï½20ms | ã‚ºãƒ¼ãƒ ã‚¢ã‚¦ãƒˆ |

**ã‚ºãƒ¼ãƒ æ“ä½œ**ï¼š
- ã‚ºãƒ¼ãƒ ã‚¤ãƒ³: `Ctrl` + `+` ã¾ãŸã¯ ãƒã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«ä¸Š
- ã‚ºãƒ¼ãƒ ã‚¢ã‚¦ãƒˆ: `Ctrl` + `-` ã¾ãŸã¯ ãƒã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«ä¸‹
- ãƒ•ã‚£ãƒƒãƒˆ: `Ctrl` + `F`

### **ãƒãƒ¼ã‚«ãƒ¼ã®ä½¿ç”¨**

é‡è¦ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ãƒãƒ¼ã‚«ãƒ¼ã‚’è¨­ç½®ï¼š

1. **HSYNCé–‹å§‹ä½ç½®**ï¼ˆh_count = 656ï¼‰
2. **VSYNCé–‹å§‹ä½ç½®**ï¼ˆv_count = 490ï¼‰
3. **ãƒ•ãƒ¬ãƒ¼ãƒ å¢ƒç•Œ**ï¼ˆh_count = 0, v_count = 0ï¼‰

**æ“ä½œæ–¹æ³•**ï¼š
- ãƒãƒ¼ã‚«ãƒ¼è¿½åŠ : æ³¢å½¢ä¸Šã§å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Set Marker`
- ã¾ãŸã¯ã€`Alt` + å·¦ã‚¯ãƒªãƒƒã‚¯

---

## ğŸ“ˆ å…¸å‹çš„ãªæ³¢å½¢ãƒ‘ã‚¿ãƒ¼ãƒ³

### **æ°´å¹³åŒæœŸï¼ˆ1ãƒ©ã‚¤ãƒ³åˆ†ï¼‰**

```
æ™‚é–“è»¸: ç´„31.77Î¼sï¼ˆ800ãƒ”ã‚¯ã‚»ãƒ« @ 25MHzï¼‰

clk      : ||||||||||||||||||||||||||||||||||||
h_count  : 0---639|640-655|656----751|752--799|0--
display  : â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ
hsync    : â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
video    : â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ
           â†‘è¡¨ç¤ºæœŸé–“ â†‘FP  â†‘åŒæœŸ    â†‘BP
```

### **å‚ç›´åŒæœŸï¼ˆæ•°ãƒ©ã‚¤ãƒ³åˆ†ï¼‰**

```
ãƒ•ãƒ¬ãƒ¼ãƒ å‘¨æœŸ: ç´„16.68msï¼ˆ525ãƒ©ã‚¤ãƒ³ï¼‰

v_count  : 479|480-489|490-491|492-524|0
vsync    : â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
```

---

## ğŸ› ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

### **å•é¡Œ1: ã‚«ã‚¦ãƒ³ã‚¿ãŒ2é€²æ•°ã§èª­ã¿ã«ãã„**

**ç—‡çŠ¶**ï¼š
```
h_count: 0000000000
h_count: 0000000001
h_count: 0000000010  â† èª­ã¿ã«ãã„ï¼
```

**è§£æ±ºæ–¹æ³•**ï¼š
ä¿¡å·ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Data Format` â†’ `Decimal` ã«å¤‰æ›´

```
h_count: 0
h_count: 1
h_count: 2  â† ã‚ã‹ã‚Šã‚„ã™ã„ï¼
```

### **å•é¡Œ2: ä¿¡å·ãŒè¦‹ã¤ã‹ã‚‰ãªã„**

**ç—‡çŠ¶**ï¼š
`uut.h_count` ãŒè¦‹ã¤ã‹ã‚‰ãªã„

**è§£æ±ºæ–¹æ³•**ï¼š
1. å·¦å´ã®ãƒ„ãƒªãƒ¼ã‚’å±•é–‹: `VGA_testbench` â†’ `uut`
2. ãƒ†ã‚¹ãƒˆãƒ™ãƒ³ãƒã§ `$dumpvars(0, VGA_testbench);` ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### **å•é¡Œ3: æ³¢å½¢ãŒè¡¨ç¤ºã•ã‚Œãªã„**

**ç—‡çŠ¶**ï¼š
GTKWaveã¯èµ·å‹•ã™ã‚‹ãŒã€ä¿¡å·ãŒå¹³å¦

**è§£æ±ºæ–¹æ³•**ï¼š
1. VCDãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
2. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæœ€å¾Œã¾ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆ`$finish` ã¾ã§ï¼‰
3. `$dumpfile()` ã¨ `$dumpvars()` ãŒãƒ†ã‚¹ãƒˆãƒ™ãƒ³ãƒã«è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### **å•é¡Œ4: è¡¨ç¤ºãŒé…ã„ãƒ»é‡ã„**

**ç—‡çŠ¶**ï¼š
GTKWaveã®å‹•ä½œãŒé…ã„

**è§£æ±ºæ–¹æ³•**ï¼š
ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’çŸ­ç¸®ï¼š

```verilog
// ãƒ†ã‚¹ãƒˆãƒ™ãƒ³ãƒã®å®Ÿè¡Œæ™‚é–“ã‚’çŸ­ç¸®
// 3ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ100msï¼‰â†’ 1ãƒ©ã‚¤ãƒ³åˆ†ï¼ˆ32Î¼sï¼‰
#1000;  // 1Î¼s ã®ã¿å®Ÿè¡Œ
```

---

## ğŸ’¡ é«˜åº¦ãªä½¿ã„æ–¹

### **1. ç‰¹å®šã®ç¯„å›²ã‚’ã‚ºãƒ¼ãƒ **

1. é–‹å§‹ä½ç½®ã§ãƒã‚¦ã‚¹å·¦ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™
2. ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦çµ‚äº†ä½ç½®ã¾ã§ç§»å‹•
3. ãƒ¡ãƒ‹ãƒ¥ãƒ¼ `Time` â†’ `Zoom to Range`

### **2. ä¿¡å·ã®è‰²å¤‰æ›´**

ä¿¡å·ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ `Highlight` â†’ è‰²ã‚’é¸æŠ

### **3. æ³¢å½¢ã®æ¯”è¼ƒ**

è¤‡æ•°ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœã‚’æ¯”è¼ƒï¼š
1. `File` â†’ `Reload Waveform`
2. ç•°ãªã‚‹VCDãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€

### **4. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¿å­˜**

`File` â†’ `Print to File` â†’ PNG/PDF ã‚’é¸æŠ

---

## ğŸ“– å‚è€ƒã‚³ãƒãƒ³ãƒ‰

### **ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼ˆWindows PowerShellï¼‰**

```powershell
# ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼†å®Ÿè¡Œ
iverilog -o vga_sim.vvp VGA_testbench.v VGA_BW_simple.v
vvp vga_sim.vvp

# GTKWaveèµ·å‹•ï¼ˆè¨­å®šä»˜ãï¼‰
gtkwave vga_test.vcd vga_test.gtkw
```

### **ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼ˆLinux/Macï¼‰**

```bash
# ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼†å®Ÿè¡Œ
iverilog -o vga_sim.vvp VGA_testbench.v VGA_BW_simple.v
vvp vga_sim.vvp

# GTKWaveèµ·å‹•
gtkwave vga_test.vcd vga_test.gtkw &
```

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

VGAä¿¡å·ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼š

- [ ] HSYNCå‘¨æœŸãŒç´„31.77Î¼sï¼ˆ800ãƒ”ã‚¯ã‚»ãƒ«åˆ†ï¼‰
- [ ] HSYNCãƒ‘ãƒ«ã‚¹å¹…ãŒç´„3.84Î¼sï¼ˆ96ãƒ”ã‚¯ã‚»ãƒ«åˆ†ï¼‰
- [ ] VSYNCå‘¨æœŸãŒç´„16.68msï¼ˆ525ãƒ©ã‚¤ãƒ³åˆ†ï¼‰
- [ ] VSYNCãƒ‘ãƒ«ã‚¹å¹…ãŒç´„63Î¼sï¼ˆ2ãƒ©ã‚¤ãƒ³åˆ†ï¼‰
- [ ] display_onãŒ h_count<640 ã‹ã¤ v_count<480 ã§1
- [ ] display_on=0ã®æ™‚ã€videoãŒ0
- [ ] display_on=1ã®æ™‚ã€videoãŒãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã£ã¦ã„ã‚‹

---

**ä½œæˆæ—¥**: 2026-01-15  
**å¯¾è±¡**: Icarus Verilog + GTKWave ã§ã®VGAä¿¡å·ç¢ºèª
>>>>>>> 9b86ef5252bc81feb1d19c35b1a9342121c0b85e
